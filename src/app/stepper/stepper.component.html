<div class="container">
  <div class="my-3 text-center steps">
    <a class="step" (click)="openTab(1)"><span class="ball">1</span><span>Personal details</span></a>
    <a class="step" (click)="openTab(2)"><span class="ball">2</span><span>Company details</span></a>
    <a class="step" (click)="openTab(3)"><span class="ball">3</span><span>Address</span></a>
  </div>
  <form [formGroup]="stepperForm" (ngSubmit)="submit(stepperForm.value)">
    <div class="tab" *ngIf="steps == 1" formGroupName="personalData">
      <h2 class="text-center">Personal Details</h2>
      <div class="form-group">
        <label>First Name</label>
        <input
          type="text"
          class="form-control"
          placeholder="Enter your First Name"
          formControlName="firstName"
        />
        <span
          *ngIf="
            !stepperForm.get('personalData.firstName')?.valid &&
            stepperForm.get('personalData.firstName')?.touched
          "
        >
          Please enter your first name</span
        >
      </div>
      <div class="form-group">
        <label>Last Name</label>
        <input
          type="text"
          class="form-control"
          placeholder="Enter your Last Name"
          formControlName="lastName"
        />
        <span
          *ngIf="
            !stepperForm.get('personalData.lastName')?.valid &&
            stepperForm.get('personalData.lastName')?.touched
          "
        >
          Please enter your last name</span
        >
      </div>
      <div class="form-group">
        <label>Email</label>
        <input
          type="email"
          class="form-control"
          placeholder="Enter your email"
          formControlName="email"
        />
        <span
          *ngIf="
            !stepperForm.get('personalData.email')?.valid &&
            stepperForm.get('personalData.email')?.touched
          "
        >
          Please enter valid Email id</span
        >
      </div>
      <div class="form-group">
        <label>Phone</label>
        <input
          type="number"
          class="form-control"
          placeholder="Enter your phone number"
          formControlName="phone"
        />
        <span
          *ngIf="
            !stepperForm.get('personalData.phone')?.valid &&
            stepperForm.get('personalData.phone')?.touched
          "
        >
          Please enter your valid phone number</span
        >
      </div>
    </div>

    <div class="tab" *ngIf="steps == 2" formGroupName="companyData">
      <h2 class="text-center">Company Details</h2>
      <div class="form-group">
        <label>Company Name</label>
        <input
          type="text"
          class="form-control"
          placeholder="Enter your company name"
          formControlName="companyName"
        />
        <span
          *ngIf="
            !stepperForm.get('companyData.companyName')?.valid &&
            stepperForm.get('companyData.companyName')?.touched
          "
        >
          Please enter your company name</span
        >
      </div>
      <div class="form-group">
        <label>Designation</label>
        <input
          type="text"
          class="form-control"
          placeholder="Enter your Designation"
          formControlName="designation"
        />
        <span
          *ngIf="
            !stepperForm.get('companyData.designation')?.valid &&
            stepperForm.get('companyData.designation')?.touched
          "
        >
          Please enter your designation</span
        >
      </div>
      <div class="form-group">
        <label>Location</label>
        <input
          type="text"
          class="form-control"
          placeholder="Enter Location of company"
          formControlName="location"
        />
        <span
          *ngIf="
            !stepperForm.get('companyData.location')?.valid &&
            stepperForm.get('companyData.location')?.touched
          "
        >
          Please enter your location</span
        >
      </div>
    </div>

    <div class="tab" *ngIf="steps == 3" formGroupName="addressData">
      <h2 class="text-center">Address</h2>
      <div class="form-group">
        <label>House name/number</label>
        <input
          type="text"
          class="form-control"
          placeholder="Enter your House name/number"
          formControlName="house"
        />
        <span
          *ngIf="
            !stepperForm.get('addressData.house')?.valid &&
            stepperForm.get('addressData.house')?.touched
          "
        >
          Please enter your house name or number</span
        >
      </div>
      <div class="form-group">
        <label>Address</label>
        <input
          type="text"
          class="form-control"
          placeholder="Enter your Address"
          formControlName="address"
        />
        <span
          *ngIf="
            !stepperForm.get('addressData.address')?.valid &&
            stepperForm.get('addressData.address')?.touched
          "
        >
          Please enter your address</span
        >
      </div>
      <div class="form-group">
        <label>Nationality</label>
        <select class="form-select" formControlName="nationality">
          <option selected>Choose...</option>
          <option value="Indian">Indian</option>
          <option value="NRI">Non Residential Indian</option>
          <option value="Others">Others</option>
        </select>
        <span
          *ngIf="
            !stepperForm.get('addressData.nationality')?.valid &&
            stepperForm.get('addressData.nationality')?.touched
          "
        >
          Please select any one</span
        >
      </div>
    </div>

    <div style="overflow: auto">
      <div style="float: right">
        <button
          type="button"
          class="btn bth-sm btn-outline-primary me-2"
          id="prevBtn"
          *ngIf="steps != 1"
          (click)="prevBtn()"
        >
          Previous
        </button>
        <button
          type="button"
          class="btn bth-sm btn-outline-primary me-2"
          id="nextBtn"
          *ngIf="steps != 3"
          (click)="nextBtn()"
        >
          Next
        </button>
        <button
          type="submit"
          class="btn btn-primary"
          *ngIf="steps == 3"
          [disabled]="stepperForm.invalid"
        >
          Submit
        </button>
      </div>
    </div>
  </form>
</div>

<!-- Modal -->
<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <div>
          <h3>Personal Details</h3>
          <div class="personal-firstName"></div>
          <div class="personal-lastName"></div>
          <div class="personal-email"></div>
          <div class="personal-phone"></div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Close
        </button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
